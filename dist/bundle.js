(()=>{"use strict";var t=function(){function t(t,e,o){this.id=e,this.data=t,this.parent=o,this.children=[]}return t.prototype.setData=function(t){this.data=t},t.prototype.getData=function(){return this.data},t.prototype.getParent=function(){return this.parent},t.prototype.isEmpty=function(){return null==this.data},t.prototype.getNode=function(t){return t>=0||t<this.children.length?this.children[t]:null},t.prototype.insertChild=function(e,o,a){var r=new t(e,o,a);this.children.push(r)},t}(),e=function(){return e=Object.assign||function(t){for(var e,o=1,a=arguments.length;o<a;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},e.apply(this,arguments)},o=function(){function t(t){this.map=t.map,this.player=e({},t.player),this.goal=e({},t.goal)}return t.prototype.toString=function(){var t;console.log("TO STRING: ",this.map);for(var e=0,o=this.map;e<o.length;e++){for(var a=o[e],r=0;r<a.length;r++)t+=a[r]+" ";t+="\n"}return t},t.prototype.insertTable=function(t,e,o,a,r){this.map=t,this.player.x=e,this.player.y=o,this.goal.x=a,this.goal.y=r},t.prototype.isEqual=function(t){return null!=t&&this.player.y==t.player.y&&this.player.x==t.player.x&&this.goal.x==t.goal.x&&this.goal.y==t.goal.y},t}(),a=function(){function e(e){this.nbnodes=1,this.root=new t(e,1,null),this.solution=[]}return e.prototype.search_id=function(t){return this.current=null,this.search_idUtil(t,this.root),this.current},e.prototype.search_idUtil=function(t,e){if(null!=e)if(e.id!=t)for(var o=0,a=e.children;o<a.length;o++){var r=a[o];this.search_idUtil(t,r)}else this.current=e},e.prototype.search_data=function(t){return this.current=null,this.search_dataUtil(t,this.root),this.current},e.prototype.search_dataUtil=function(t,e){if(null!=e){var o=e.getData();if(o.player.x!=t.player.x||o.player.y!=t.player.y)for(var a=0,r=e.children;a<r.length;a++){var i=r[a];this.search_dataUtil(t,i)}else this.current=e}},e.prototype.insertNode=function(t,e){var o=this.search_id(e);return null!=o&&(o.insertChild(t,++this.nbnodes,o),!0)},e.prototype.display=function(){this.displayUtil(this.root,null)},e.prototype.displayUtil=function(t,e){if(null!=t){null!=e?console.log("Node data: "+e.getData()+" Node id: "+t.id+" Node parent: "+t.parent):console.log("N: "+t.id+": "+t.getData());for(var o=0;o<t.children.length;o++)this.displayUtil(t.getNode(o),t)}},e.prototype.display_solution=function(t){null!=t&&(this.display_solution(t.getParent()),this.solution.push(t.getParent()),console.log("NODE: ",t.getData()))},e}(),r=[];r[0]={map:[[1,1,0,0,1],[1,0,0,0,0],[0,0,1,1,0],[0,0,0,1,0],[0,1,0,1,0]],player:{x:0,y:4},goal:{x:3,y:1},theme:"default"},r[2]={map:[[1,0,1,0,0,1,0],[0,0,0,0,0,1,0],[1,0,1,1,0,0,0],[1,0,0,1,0,1,0],[1,1,0,0,1,0,0]],theme:"dungeon",player:{x:2,y:4},goal:{x:6,y:4}},r[3]={map:[[1,0,1,0,0,1,0],[0,0,0,0,0,1,0],[1,0,1,1,0,0,0],[1,0,0,1,0,1,0],[1,1,0,0,1,0,0]],theme:"dungeon",player:{x:6,y:4},goal:{x:6,y:4}},r[1]={map:[[1,1,0,0,1],[1,0,0,0,0],[0,0,1,1,0],[0,0,0,1,0],[0,1,0,1,0]],player:{x:3,y:1},goal:{x:3,y:1},theme:"default"};var i=new o(r[0]),l=new o(r[0]);new a(i),new a(l).search_data(i)&&console.log("found");var n=function(){return n=Object.assign||function(t){for(var e,o=1,a=arguments.length;o<a;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)},s=function(){function t(t,e){this.id=t,this.level=e,this.el=document.getElementById(t),this.tileTypes=["floor","wall"],this.tileDim=32,this.map=e.map,this.theme=e.theme,this.player=n({},e.player),this.goal=n({},e.goal)}return t.prototype.populateMap=function(){this.el.className="game-container "+this.theme;for(var t=document.getElementById("tiles"),e=0;e<this.map.length;++e)for(var o=0;o<this.map[e].length;++o){var a=this.map[e][o],r=this.tileTypes[a],i=this.createEl(o,e,r);t.appendChild(i)}},t.prototype.createEl=function(t,e,o){var a=document.createElement("div");return a.className=o,a.style.width=a.style.height=this.tileDim+"px",a.style.left=t*this.tileDim+"px",a.style.top=e*this.tileDim+"px",a},t.prototype.placeSprite=function(t){var e,o;switch(t){case"player":e=this.player.x,o=this.player.y;break;case"goal":e=this.goal.x,o=this.goal.y}var a=this.createEl(e,o,t);return a.id=t,a.style.borderRadius=this.tileDim+"px",this.el.querySelector("#sprites").appendChild(a),a},t.prototype.sizeUp=function(){var t=this.el.querySelector(".game-map");t.style.height=this.map.length*this.tileDim+"px",t.style.width=this.map[0].length*this.tileDim+"px"},t.prototype.movePlayer=function(t){switch(console.log(t.keyCode),t.keyCode){case 37:this.moveLeft();break;case 38:this.moveUp();break;case 39:this.moveRight();break;case 40:this.moveDown()}},t.prototype.checkGoal=function(){var t=document.querySelector("body");this.player.y==this.goal.y&&this.player.x==this.goal.x?t.className="success":t.className=""},t.prototype.keyboardListener=function(){var t=this;document.addEventListener("keydown",(function(e){t.movePlayer(e),t.checkGoal()}))},t.prototype.moveLeft=function(){0!=this.player.x&&1!=this.map[this.player.y][this.player.x-1]&&(this.player.x-=1,this.updateHoriz())},t.prototype.reset=function(){this.player.x=this.level.player.x,this.player.y=this.level.player.y,this.updateHoriz(),this.updateVert()},t.prototype.moveUp=function(){0!=this.player.y&&1!=this.map[this.player.y-1][this.player.x]&&(this.player.y-=1,this.updateVert())},t.prototype.moveRight=function(){this.player.x!=this.map[this.player.y].length-1&&1!=this.map[this.player.y][this.player.x+1]&&(this.player.x+=1,this.updateHoriz())},t.prototype.moveDown=function(){this.player.y!=this.map.length-1&&1!=this.map[this.player.y+1][this.player.x]&&(this.player.y+=1,this.updateVert())},t.prototype.updateHoriz=function(){this.player.el.style.left=this.player.x*this.tileDim+"px"},t.prototype.updateVert=function(){this.player.el.style.top=this.player.y*this.tileDim+"px"},t}(),p=function(t,e){this.element=t,this.priority=e},h=function(){function t(){this.arr=[]}return t.prototype.enqueue=function(t,e){for(var o=new p(t,e),a=!1,r=0;r<this.arr.length;r++)if(this.arr[r].priority>o.priority){this.arr.splice(r,0,o),a=!0;break}a||this.arr.push(o)},t.prototype.isEmpty=function(){return 0==this.arr.length},t.prototype.dequeue=function(){if(!this.isEmpty()){var t=this.arr[0].element;return this.arr.shift(),t}},t.prototype.display=function(){for(var t=0,e=this.arr;t<e.length;t++){var o=e[t];console.log("NODE ELEMENT: "+o.element+" NODE PRIORITY: "+o.priority)}},t}(),u=new h;u.enqueue(3,0),u.enqueue(5,0),u.enqueue(6,1),u.display();var y=u.dequeue();console.log(y),u.display();var c=function(){function t(){this.jDepth=1e3}return t.prototype.apply=function(t,e){var a={map:e.map,goal:e.goal,player:e.player},r=new o(a);switch(t){case"UP":if(0==r.player.y)return null;if(1==r.map[r.player.y-1][r.player.x])return null;r.player.y-=1,r.action="UP";break;case"RIGHT":if(r.player.x==r.map[r.player.y].length-1)return null;if(1==r.map[r.player.y][r.player.x+1])return null;r.player.x+=1,r.action="RIGHT";break;case"LEFT":if(0==r.player.x)return null;if(1==r.map[r.player.y][r.player.x-1])return null;r.player.x-=1,r.action="LEFT";break;case"DOWN":if(r.player.y==r.map.length-1)return null;if(1==r.map[r.player.y+1][r.player.x])return null;r.player.y+=1,r.action="DOWN"}return r},t.prototype.IDS=function(t,e){var o=this.jDepth;for(this.treeAI=t,this.found=!1,this.jDepth=1;this.jDepth<=o;this.jDepth++)this.IDSUtil(this.treeAI.root,e,0)},t.prototype.IDSUtil=function(t,e,o){if(!(++o>this.jDepth||this.found)){var a=t.getData();if(a.isEqual(e))return console.log("Start"),this.treeAI.display_solution(t),this.treeAI.solution.push(t),this.found=!0,void console.log("end");var r=this.apply("UP",a),i=this.apply("DOWN",a),l=this.apply("LEFT",a),n=this.apply("RIGHT",a);null!=r&&(this.treeAI.insertNode(r,t.id),this.IDSUtil(this.treeAI.search_data(r),e,o)),null!=i&&(this.treeAI.insertNode(i,t.id),this.IDSUtil(this.treeAI.search_data(i),e,o)),null!=l&&(this.treeAI.insertNode(l,t.id),this.IDSUtil(this.treeAI.search_data(l),e,o)),null!=n&&(this.treeAI.insertNode(n,t.id),this.IDSUtil(this.treeAI.search_data(n),e,o))}},t.prototype.BFS=function(t,e){var o=[];for(o.push(t.root);0!=o.length;){var a=o.shift();console.log(a);var r=a.getData();if(console.log(r),r.isEqual(e)){console.log("Start"),t.display_solution(a),t.solution.push(a),console.log("end");break}var i=this.apply("UP",r),l=this.apply("DOWN",r),n=this.apply("LEFT",r),s=this.apply("RIGHT",r);null!=i&&(t.insertNode(i,a.id),o.push(t.search_data(i))),null!=l&&(t.insertNode(l,a.id),o.push(t.search_data(l))),null!=n&&(t.insertNode(n,a.id),o.push(t.search_data(n))),null!=s&&(t.insertNode(s,a.id),o.push(t.search_data(s)))}},t.prototype.DFS=function(t,e){this.found=!1,this.treeAI=t,this.DFSUtil(t.root,e,0)},t.prototype.DFSUtil=function(t,e,o){if(o++,!(this.found||o>this.jDepth)){var a=t.getData();if(a.isEqual(e))return console.log("Start"),console.log("GOAL FOUND: ",t),this.treeAI.display_solution(t),this.treeAI.solution.push(t),this.found=!0,void console.log("end");var r=this.apply("UP",a),i=this.apply("DOWN",a),l=this.apply("LEFT",a),n=this.apply("RIGHT",a);null!=r&&(this.treeAI.insertNode(r,t.id),this.DFSUtil(this.treeAI.search_data(r),e,o)),null!=i&&(this.treeAI.insertNode(i,t.id),this.DFSUtil(this.treeAI.search_data(i),e,o)),null!=l&&(this.treeAI.insertNode(l,t.id),this.DFSUtil(this.treeAI.search_data(l),e,o)),null!=n&&(this.treeAI.insertNode(n,t.id),this.DFSUtil(this.treeAI.search_data(n),e,o))}},t.prototype.hN=function(t,e){return console.log("HN: "+t.x+" "+e.x+" "+t.y+" "+e.y),Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},t.prototype.gN=function(t,e){if(t.x==e.x)return Math.abs(t.y-e.y);if(t.y==e.y)return Math.abs(t.x-e.x);var o=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);return o>a?o:a},t.prototype.AStar=function(t,e){var o=new h,a=t.root,r=a.getData(),i=r.player,l=this.hN(r.player,r.goal);for(o.enqueue(a,l);!o.isEmpty();){var n=o.dequeue();console.log(n);var s=n.getData();if(s.isEqual(e)){console.log("Start"),t.display_solution(n),t.solution.push(n),console.log("end");break}var p=this.apply("UP",s),u=this.apply("DOWN",s),y=this.apply("LEFT",s),c=this.apply("RIGHT",s);if(null!=p){console.log("table up: ",p);var d=this.gN(i,p.player)+this.hN(p.player,p.goal);console.log("HN: "+this.hN(p.player,p.goal)),console.log("GN:"+this.gN(i,p.player)),console.log("PR: "+d),t.insertNode(p,n.id),o.enqueue(t.search_data(p),d)}if(null!=u){console.log("table down: ",u);var f=this.gN(i,u.player)+this.hN(u.player,u.goal);console.log("HN: "+this.hN(u.player,u.goal)),console.log("GN:"+this.gN(i,u.player)),console.log("PR: ",f),t.insertNode(u,n.id),o.enqueue(t.search_data(u),f)}if(null!=y){console.log("table left: ",y);var g=this.gN(i,y.player)+this.hN(y.player,y.goal);console.log("PR: ",g),console.log("HN: "+this.hN(y.player,y.goal)),console.log("GN:"+this.gN(i,y.player)),t.insertNode(y,n.id),o.enqueue(t.search_data(y),g)}if(null!=c){console.log("table right: ",c);var m=this.gN(i,c.player)+this.hN(c.player,c.goal);console.log("GN:"+this.gN(i,c.player)),console.log("HN: "+this.hN(c.player,c.goal)),console.log("PR: ",m),t.insertNode(c,n.id),o.enqueue(t.search_data(c),m)}}},t.prototype.Bidirectional=function(t,e){var o=[],a=[];o.push(t.root),a.push(e.root);for(var r=0;(0!=o.length||0!=a.length)&&r<1e4;){r++;var i=o.shift(),l=a.shift(),n=i.getData(),s=l.getData();if(t.search_data(n)&&e.search_data(n)){console.log("Start 1"),t.display_solution(i),t.solution.push(i),console.log("end 1"),console.log("intersected at node: ",n),console.log("start 2"),e.display_solution(i),e.solution.push(i),console.log("end 2");break}if(t.search_data(s)&&e.search_data(s))console.log("Start 1"),t.display_solution(l),t.solution.push(l),console.log("end 1"),console.log("intersected at node: ",l),console.log("start 2"),e.display_solution(l),e.solution.push(l),console.log("end 2");else{var p=this.apply("UP",n),h=this.apply("DOWN",n),u=this.apply("LEFT",n),y=this.apply("RIGHT",n);null!=p&&(t.insertNode(p,i.id),o.push(t.search_data(p))),null!=h&&(t.insertNode(h,i.id),o.push(t.search_data(h))),null!=u&&(t.insertNode(u,i.id),o.push(t.search_data(u))),null!=y&&(t.insertNode(y,i.id),o.push(t.search_data(y)));var c=this.apply("UP",s),d=this.apply("DOWN",s),f=this.apply("LEFT",s),g=this.apply("RIGHT",s);null!=c&&(e.insertNode(c,l.id),a.push(e.search_data(c))),null!=d&&(e.insertNode(d,l.id),a.push(e.search_data(d))),null!=f&&(e.insertNode(f,l.id),a.push(e.search_data(f))),null!=g&&(e.insertNode(g,l.id),a.push(e.search_data(g)))}}},t}(),d=[];d[0]={map:[[1,1,0,0,1],[1,0,0,0,0],[0,0,1,1,0],[0,0,0,1,0],[0,1,0,1,0]],player:{x:0,y:4},goal:{x:3,y:1},theme:"default"},d[2]={map:[[1,0,1,0,0,1,0],[0,0,0,0,0,1,0],[1,0,1,1,0,0,0],[1,0,0,1,0,1,0],[1,1,0,0,1,0,0]],theme:"dungeon",player:{x:2,y:4},goal:{x:6,y:4}},d[3]={map:[[1,0,1,0,0,1,0],[0,0,0,0,0,1,0],[1,0,1,1,0,0,0],[1,0,0,1,0,1,0],[1,1,0,0,1,0,0]],theme:"dungeon",player:{x:6,y:4},goal:{x:6,y:4}},d[1]={map:[[1,1,0,0,1],[1,0,0,0,0],[0,0,1,1,0],[0,0,0,1,0],[0,1,0,1,0]],player:{x:3,y:1},goal:{x:3,y:1},theme:"default"};var f,g=new c;!function(){(f=new s("game-container-1",d[0])).populateMap(),f.sizeUp(),f.placeSprite("goal");var t=f.placeSprite("player");f.player.el=t,f.keyboardListener()}();var m=new o(d[1]),v=new o(d[0]);function N(t,e){for(var o=function(o){setTimeout((function(){var a=t[o].data;"UP"==a.action&&(e?f.moveDown():f.moveUp()),"DOWN"==a.action&&(e?f.moveUp():f.moveDown()),"LEFT"==a.action&&(e?f.moveRight():f.moveLeft()),"RIGHT"==a.action&&(e?f.moveLeft():f.moveRight()),f.checkGoal()}),500*o)},a=1;a<t.length;a++)o(a)}document.querySelector("#BFS").addEventListener("click",(function(t){var e=new a(v);f.reset(),t.preventDefault();var o=performance.now();g.BFS(e,m);var r=performance.now();N(e.solution,!1),document.querySelector("#time").innerHTML="Time taken ".concat(Math.floor(r-o),"ms for BFS")})),document.querySelector("#DFS").addEventListener("click",(function(t){f.reset();var e=new a(v);t.preventDefault();var o=performance.now();g.DFS(e,m);var r=performance.now();N(e.solution,!1),document.querySelector("#time").innerHTML="Time taken ".concat(Math.floor(r-o),"ms for DFS")})),document.querySelector("#IDS").addEventListener("click",(function(t){f.reset();var e=new a(v);t.preventDefault();var o=performance.now();g.IDS(e,m);var r=performance.now();N(e.solution,!1),document.querySelector("#time").innerHTML="Time taken ".concat(Math.floor(r-o),"ms for IDS")})),document.querySelector("#ASTAR").addEventListener("click",(function(t){f.reset();var e=new a(v);t.preventDefault();var o=performance.now();g.AStar(e,m);var r=performance.now();N(e.solution,!1),document.querySelector("#time").innerHTML="Time taken ".concat(Math.floor(r-o),"ms for AStar")}))})();
//# sourceMappingURL=bundle.js.map