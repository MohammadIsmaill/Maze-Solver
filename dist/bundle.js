(()=>{"use strict";var t=function(){function t(t,e,i){this.id=e,this.data=t,this.parent=i,this.children=[]}return t.prototype.setData=function(t){this.data=t},t.prototype.getData=function(){return this.data},t.prototype.getParent=function(){return this.parent},t.prototype.isEmpty=function(){return null==this.data},t.prototype.getNode=function(t){return t>=0||t<this.children.length?this.children[t]:null},t.prototype.insertChild=function(e,i,r){var a=new t(e,i,r);this.children.push(a)},t}(),e=function(){return e=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},e.apply(this,arguments)},i=function(){function t(t){this.map=t.map,this.player=e({},t.player),this.goal=e({},t.goal)}return t.prototype.toString=function(){var t;console.log("TO STRING: ",this.map);for(var e=0,i=this.map;e<i.length;e++){for(var r=i[e],a=0;a<r.length;a++)t+=r[a]+" ";t+="\n"}return t},t.prototype.insertTable=function(t,e,i,r,a){this.map=t,this.player.x=e,this.player.y=i,this.goal.x=r,this.goal.y=a},t.prototype.isEqual=function(t){return null!=t&&this.player.y==t.player.y&&this.player.x==t.player.x&&this.goal.x==t.goal.x&&this.goal.y==t.goal.y},t}(),r=function(){function e(e){this.nbnodes=1,this.root=new t(e,1,null),this.solution=[]}return e.prototype.search_id=function(t){return this.current=null,this.search_idUtil(t,this.root),this.current},e.prototype.search_idUtil=function(t,e){if(null!=e)if(e.id!=t)for(var i=0,r=e.children;i<r.length;i++){var a=r[i];this.search_idUtil(t,a)}else this.current=e},e.prototype.search_data=function(t){return this.current=null,this.search_dataUtil(t,this.root),this.current},e.prototype.search_dataUtil=function(t,e){if(null!=e){var i=e.getData();if(i.player.x!=t.player.x||i.player.y!=t.player.y)for(var r=0,a=e.children;r<a.length;r++){var n=a[r];this.search_dataUtil(t,n)}else this.current=e}},e.prototype.insertNode=function(t,e){var i=this.search_id(e);return null!=i&&(i.insertChild(t,++this.nbnodes,i),!0)},e.prototype.display=function(){this.displayUtil(this.root,null)},e.prototype.displayUtil=function(t,e){if(null!=t)for(var i=0;i<t.children.length;i++)this.displayUtil(t.getNode(i),t)},e.prototype.display_solution=function(t){null!=t&&(this.display_solution(t.getParent()),this.solution.push(t.getParent()))},e}(),a=[];a[0]={map:[[1,1,0,0,1],[1,0,0,0,0],[0,0,1,1,0],[0,0,0,1,0],[0,1,0,1,0]],player:{x:0,y:4},goal:{x:3,y:1},theme:"default"},a[2]={map:[[1,0,1,0,0,1,0],[0,0,0,0,0,1,0],[1,0,1,1,0,0,0],[1,0,0,1,0,1,0],[1,1,0,0,1,0,0]],theme:"dungeon",player:{x:2,y:4},goal:{x:6,y:4}},a[3]={map:[[1,0,1,0,0,1,0],[0,0,0,0,0,1,0],[1,0,1,1,0,0,0],[1,0,0,1,0,1,0],[1,1,0,0,1,0,0]],theme:"dungeon",player:{x:6,y:4},goal:{x:6,y:4}},a[1]={map:[[1,1,0,0,1],[1,0,0,0,0],[0,0,1,1,0],[0,0,0,1,0],[0,1,0,1,0]],player:{x:3,y:1},goal:{x:3,y:1},theme:"default"};var n=new i(a[0]),o=new i(a[0]);new r(n),new r(o).search_data(n);var s=function(){return s=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},s.apply(this,arguments)},l=function(){function t(t,e){this.id=t,this.level=e,this.el=document.getElementById(t),this.tileTypes=["floor","wall"],this.tileDim=32,this.map=e.map,this.theme=e.theme,this.player=s({},e.player),this.goal=s({},e.goal)}return t.prototype.populateMap=function(){this.el.className="game-container "+this.theme;for(var t=document.getElementById("tiles"),e=0;e<this.map.length;++e)for(var i=0;i<this.map[e].length;++i){var r=this.map[e][i],a=this.tileTypes[r],n=this.createEl(i,e,a);t.appendChild(n)}},t.prototype.createEl=function(t,e,i){var r=document.createElement("div");return r.className=i,r.style.width=r.style.height=this.tileDim+"px",r.style.left=t*this.tileDim+"px",r.style.top=e*this.tileDim+"px",r},t.prototype.placeSprite=function(t){var e,i;switch(t){case"player":e=this.player.x,i=this.player.y;break;case"goal":e=this.goal.x,i=this.goal.y}var r=this.createEl(e,i,t);return r.id=t,r.style.borderRadius=this.tileDim+"px",this.el.querySelector("#sprites").appendChild(r),r},t.prototype.sizeUp=function(){var t=this.el.querySelector(".game-map");t.style.height=this.map.length*this.tileDim+"px",t.style.width=this.map[0].length*this.tileDim+"px"},t.prototype.movePlayer=function(t){switch(t.keyCode){case 37:this.moveLeft();break;case 38:this.moveUp();break;case 39:this.moveRight();break;case 40:this.moveDown()}},t.prototype.checkGoal=function(){var t=document.querySelector("body");this.player.y==this.goal.y&&this.player.x==this.goal.x?t.className="success":t.className=""},t.prototype.keyboardListener=function(){var t=this;document.addEventListener("keydown",(function(e){t.movePlayer(e),t.checkGoal()}))},t.prototype.moveLeft=function(){0!=this.player.x&&1!=this.map[this.player.y][this.player.x-1]&&(this.player.x-=1,this.updateHoriz())},t.prototype.reset=function(){this.player.x=this.level.player.x,this.player.y=this.level.player.y,this.updateHoriz(),this.updateVert()},t.prototype.moveUp=function(){0!=this.player.y&&1!=this.map[this.player.y-1][this.player.x]&&(this.player.y-=1,this.updateVert())},t.prototype.moveRight=function(){this.player.x!=this.map[this.player.y].length-1&&1!=this.map[this.player.y][this.player.x+1]&&(this.player.x+=1,this.updateHoriz())},t.prototype.moveDown=function(){this.player.y!=this.map.length-1&&1!=this.map[this.player.y+1][this.player.x]&&(this.player.y+=1,this.updateVert())},t.prototype.updateHoriz=function(){this.player.el.style.left=this.player.x*this.tileDim+"px"},t.prototype.updateVert=function(){this.player.el.style.top=this.player.y*this.tileDim+"px"},t}(),p=function(t,e){this.element=t,this.priority=e},h=function(){function t(){this.arr=[]}return t.prototype.enqueue=function(t,e){for(var i=new p(t,e),r=!1,a=0;a<this.arr.length;a++)if(this.arr[a].priority>i.priority){this.arr.splice(a,0,i),r=!0;break}r||this.arr.push(i)},t.prototype.isEmpty=function(){return 0==this.arr.length},t.prototype.dequeue=function(){if(!this.isEmpty()){var t=this.arr[0].element;return this.arr.shift(),t}},t.prototype.display=function(){for(var t=0,e=this.arr;t<e.length;t++){var i=e[t];console.log("NODE ELEMENT: "+i.element+" NODE PRIORITY: "+i.priority)}},t}(),u=function(){function t(){this.jDepth=1e3}return t.prototype.apply=function(t,e){var r={map:e.map,goal:e.goal,player:e.player},a=new i(r);switch(t){case"UP":if(0==a.player.y)return null;if(1==a.map[a.player.y-1][a.player.x])return null;a.player.y-=1,a.action="UP";break;case"RIGHT":if(a.player.x==a.map[a.player.y].length-1)return null;if(1==a.map[a.player.y][a.player.x+1])return null;a.player.x+=1,a.action="RIGHT";break;case"LEFT":if(0==a.player.x)return null;if(1==a.map[a.player.y][a.player.x-1])return null;a.player.x-=1,a.action="LEFT";break;case"DOWN":if(a.player.y==a.map.length-1)return null;if(1==a.map[a.player.y+1][a.player.x])return null;a.player.y+=1,a.action="DOWN"}return a},t.prototype.IDS=function(t,e){var i=this.jDepth;for(this.treeAI=t,this.found=!1,this.jDepth=1;this.jDepth<=i;this.jDepth++)this.IDSUtil(this.treeAI.root,e,0)},t.prototype.IDSUtil=function(t,e,i){if(!(++i>this.jDepth||this.found)){var r=t.getData();if(r.isEqual(e))return this.treeAI.display_solution(t),this.treeAI.solution.push(t),void(this.found=!0);var a=this.apply("UP",r),n=this.apply("DOWN",r),o=this.apply("LEFT",r),s=this.apply("RIGHT",r);null!=a&&(this.treeAI.insertNode(a,t.id),this.IDSUtil(this.treeAI.search_data(a),e,i)),null!=n&&(this.treeAI.insertNode(n,t.id),this.IDSUtil(this.treeAI.search_data(n),e,i)),null!=o&&(this.treeAI.insertNode(o,t.id),this.IDSUtil(this.treeAI.search_data(o),e,i)),null!=s&&(this.treeAI.insertNode(s,t.id),this.IDSUtil(this.treeAI.search_data(s),e,i))}},t.prototype.BFS=function(t,e){var i=[];for(i.push(t.root);0!=i.length;){var r=i.shift(),a=r.getData();if(a.isEqual(e)){t.display_solution(r),t.solution.push(r);break}var n=this.apply("UP",a),o=this.apply("DOWN",a),s=this.apply("LEFT",a),l=this.apply("RIGHT",a);null!=n&&(t.insertNode(n,r.id),i.push(t.search_data(n))),null!=o&&(t.insertNode(o,r.id),i.push(t.search_data(o))),null!=s&&(t.insertNode(s,r.id),i.push(t.search_data(s))),null!=l&&(t.insertNode(l,r.id),i.push(t.search_data(l)))}},t.prototype.DFS=function(t,e){this.found=!1,this.treeAI=t,this.DFSUtil(t.root,e,0)},t.prototype.DFSUtil=function(t,e,i){if(i++,!(this.found||i>this.jDepth)){var r=t.getData();if(r.isEqual(e))return this.treeAI.display_solution(t),this.treeAI.solution.push(t),void(this.found=!0);var a=this.apply("UP",r),n=this.apply("DOWN",r),o=this.apply("LEFT",r),s=this.apply("RIGHT",r);null!=a&&(this.treeAI.insertNode(a,t.id),this.DFSUtil(this.treeAI.search_data(a),e,i)),null!=n&&(this.treeAI.insertNode(n,t.id),this.DFSUtil(this.treeAI.search_data(n),e,i)),null!=o&&(this.treeAI.insertNode(o,t.id),this.DFSUtil(this.treeAI.search_data(o),e,i)),null!=s&&(this.treeAI.insertNode(s,t.id),this.DFSUtil(this.treeAI.search_data(s),e,i))}},t.prototype.hN=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},t.prototype.gN=function(t,e){if(t.x==e.x)return Math.abs(t.y-e.y);if(t.y==e.y)return Math.abs(t.x-e.x);var i=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y);return i>r?i:r},t.prototype.AStar=function(t,e){var i=new h,r=t.root,a=r.getData(),n=a.player,o=this.hN(a.player,a.goal);for(i.enqueue(r,o);!i.isEmpty();){var s=i.dequeue(),l=s.getData();if(l.isEqual(e)){t.display_solution(s),t.solution.push(s);break}var p=this.apply("UP",l),u=this.apply("DOWN",l),y=this.apply("LEFT",l),c=this.apply("RIGHT",l);if(null!=p){var d=this.gN(n,p.player)+this.hN(p.player,p.goal);t.insertNode(p,s.id),i.enqueue(t.search_data(p),d)}if(null!=u){var f=this.gN(n,u.player)+this.hN(u.player,u.goal);t.insertNode(u,s.id),i.enqueue(t.search_data(u),f)}if(null!=y){var m=this.gN(n,y.player)+this.hN(y.player,y.goal);t.insertNode(y,s.id),i.enqueue(t.search_data(y),m)}if(null!=c){var v=this.gN(n,c.player)+this.hN(c.player,c.goal);t.insertNode(c,s.id),i.enqueue(t.search_data(c),v)}}},t.prototype.Bidirectional=function(t,e){var i=[],r=[];i.push(t.root),r.push(e.root);for(var a=0;(0!=i.length||0!=r.length)&&a<1e4;){a++;var n=i.shift(),o=r.shift(),s=n.getData(),l=o.getData();if(t.search_data(s)&&e.search_data(s)){t.display_solution(n),t.solution.push(n),e.display_solution(n),e.solution.push(n);break}if(t.search_data(l)&&e.search_data(l))t.display_solution(o),t.solution.push(o),e.display_solution(o),e.solution.push(o);else{var p=this.apply("UP",s),h=this.apply("DOWN",s),u=this.apply("LEFT",s),y=this.apply("RIGHT",s);null!=p&&(t.insertNode(p,n.id),i.push(t.search_data(p))),null!=h&&(t.insertNode(h,n.id),i.push(t.search_data(h))),null!=u&&(t.insertNode(u,n.id),i.push(t.search_data(u))),null!=y&&(t.insertNode(y,n.id),i.push(t.search_data(y)));var c=this.apply("UP",l),d=this.apply("DOWN",l),f=this.apply("LEFT",l),m=this.apply("RIGHT",l);null!=c&&(e.insertNode(c,o.id),r.push(e.search_data(c))),null!=d&&(e.insertNode(d,o.id),r.push(e.search_data(d))),null!=f&&(e.insertNode(f,o.id),r.push(e.search_data(f))),null!=m&&(e.insertNode(m,o.id),r.push(e.search_data(m)))}}},t}(),y=[];y[0]={map:[[1,1,0,0,1],[1,0,0,0,0],[0,0,1,1,0],[0,0,0,1,0],[0,1,0,1,0]],player:{x:0,y:4},goal:{x:3,y:1},theme:"default"},y[2]={map:[[1,0,1,0,0,1,0],[0,0,0,0,0,1,0],[1,0,1,1,0,0,0],[1,0,0,1,0,1,0],[1,1,0,0,1,0,0]],theme:"dungeon",player:{x:2,y:4},goal:{x:6,y:4}},y[3]={map:[[1,0,1,0,0,1,0],[0,0,0,0,0,1,0],[1,0,1,1,0,0,0],[1,0,0,1,0,1,0],[1,1,0,0,1,0,0]],theme:"dungeon",player:{x:6,y:4},goal:{x:6,y:4}},y[1]={map:[[1,1,0,0,1],[1,0,0,0,0],[0,0,1,1,0],[0,0,0,1,0],[0,1,0,1,0]],player:{x:3,y:1},goal:{x:3,y:1},theme:"default"};var c,d=new u;!function(){(c=new l("game-container-1",y[0])).populateMap(),c.sizeUp(),c.placeSprite("goal");var t=c.placeSprite("player");c.player.el=t,c.keyboardListener()}();var f=new i(y[1]),m=new i(y[0]);function v(t,e){for(var i=function(i){setTimeout((function(){var r=t[i].data;"UP"==r.action&&(e?c.moveDown():c.moveUp()),"DOWN"==r.action&&(e?c.moveUp():c.moveDown()),"LEFT"==r.action&&(e?c.moveRight():c.moveLeft()),"RIGHT"==r.action&&(e?c.moveLeft():c.moveRight()),c.checkGoal()}),500*i)},r=1;r<t.length;r++)i(r)}document.querySelector("#BFS").addEventListener("click",(function(t){var e=new r(m);c.reset(),t.preventDefault();var i=performance.now();d.BFS(e,f);var a=performance.now();v(e.solution,!1),document.querySelector("#time").innerHTML="Time taken ".concat(Math.floor(a-i),"ms for BFS")})),document.querySelector("#DFS").addEventListener("click",(function(t){c.reset();var e=new r(m);t.preventDefault();var i=performance.now();d.DFS(e,f);var a=performance.now();v(e.solution,!1),document.querySelector("#time").innerHTML="Time taken ".concat(Math.floor(a-i),"ms for DFS")})),document.querySelector("#IDS").addEventListener("click",(function(t){c.reset();var e=new r(m);t.preventDefault();var i=performance.now();d.IDS(e,f);var a=performance.now();v(e.solution,!1),document.querySelector("#time").innerHTML="Time taken ".concat(Math.floor(a-i),"ms for IDS")})),document.querySelector("#ASTAR").addEventListener("click",(function(t){c.reset();var e=new r(m);t.preventDefault();var i=performance.now();d.AStar(e,f);var a=performance.now();v(e.solution,!1),document.querySelector("#time").innerHTML="Time taken ".concat(Math.floor(a-i),"ms for AStar")}))})();
//# sourceMappingURL=bundle.js.map